<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{base::layout(~{::section})}">
<head>
<meta charset="UTF-8" />
<title>Login</title>
</head>
<body>
	<section style="min-height: 90vh;"
		class="d-flex align-items-center justify-content-center bg-light mt-2">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-8">
					<div class="my-card shadow rounded-4 p-5 bg-white">
						<!-- Flash Message -->
						<div th:if="${message}" th:classappend="${message.type}"
							class="alert" role="alert" th:text="${message.content}"></div>

						<h2 class="text-center mb-4 text-primary">üîê Login Here..!</h2>

						<div th:if="${param.error}" class="alert alert-danger">
							Invalid Username and Password..!</div>

						<div th:if="${param.logout}" class="alert alert-success">
							You have been logged out..!</div>

						<div th:if="${param.change}" class="alert alert-success">
							<p th:text="${param.change}"></p>
						</div>


						<!-- Login Form -->
						<form th:action="@{/dologin}" method="post">

							<!-- Email -->
							<div class="mb-3">
								<label for="username" class="form-label">Email address</label> <input
									type="email" class="form-control" id="username" name="username"
									placeholder="Enter your email" required>
							</div>

							<!-- Password -->
							<div class="mb-3">
								<label for="password" class="form-label">Password</label> <input
									type="password" class="form-control" id="password"
									name="password" placeholder="Enter Password" required>
							</div>

							<!-- Login Button -->
							<div class="row mt-4">
								<div class="col-md-6 d-grid">
									<button type="submit"  class="btn btn-primary btn-lg">Login</button>
								</div>

								<div class="col-md-6 d-grid">
									<a th:href="@{signup}" class="btn btn-secondary btn-lg">Register</a>
								</div>
							</div>

							<!-- Forgot Password -->
							<div class="text-center mt-3">
								<a th:href="@{forgot}" class="text-muted small">Forgot
									password?</a>
							</div>

						</form>
						<!-- End of Form -->

					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Flash Message Auto-Hide -->
	<script th:if="${message}" type="text/javascript">
        setTimeout(function () {
            var flashMessage = document.getElementById("flashMessage");
            if (flashMessage) {
                flashMessage.style.display = 'none';
            }
        }, 3000);
    </script>
</body>
</html>
